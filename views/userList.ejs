<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- Favicon -->
	<link rel="shortcut icon" href="/images/icons/favicon.ico" type="image/x-icon" />

	<!-- CSS -->
	<link rel="stylesheet" href="/css/tailwindcss/tailwind.css" />
	<link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet" />
	<link rel="stylesheet" href="/css/userList.css" />

	<title>User List | AnimaKu</title>
	<script type="module" src="/js/navbar.js" defer></script>
	<script type="module" src="/js/toggleTheme.js" defer></script>
</head>

<body>
	<header>
		<%- include('partials/navbar.ejs') %>
	</header>

	<main class="max-w-7xl mx-auto mt-24 md:mt-28 px-4">
		<header class="mb-6">
			<h1 class="header-title font-bold text-2xl md:text-3xl">
				My List
			</h1>
		</header>

		<section id="filter-list" class="flex flex-col gap-4 mb-6">
			<!-- Search Form -->
			<div class="flex gap-3">
				<form class="w-full md:hidden">
					<select id="type-select-mobile"
							class="select appearance-none border rounded-md text-base w-full">
						<option disabled selected value="">Select types</option>
						<option value="anime">Anime</option>
						<option value="manga">Manga</option>
					</select>
				</form>

				<!-- Modal Popup for Filter -->
				<button class="btn-filter-mobile md:hidden border px-2 rounded-md shrink-0"
						onclick="modalFilter.showModal()">
					<i class="ri-filter-line"></i>
				</button>

				<dialog id="modalFilter" class="modal">
					<div class="modal-box rounded-md">
						<form method="dialog">
							<button class="btn-modal-close rounded-full absolute right-2 top-2">
								<i class="ri-close-line"></i>
							</button>
						</form>
						<h3 class="text-lg font-bold mb-2">Filters</h3>
						<div class="flex flex-col gap-2">
							<form>
								<label for="select">
									<span class="text-sm">Status</span>
									<select id="status-select-mobile"
											class="select appearance-none w-full border rounded-md">
										<option disabled selected value="">Select status</option>
										<option value="watching">Watching</option>
										<option value="plan_watch">Plan to watch</option>
										<option value="reading">Reading</option>
										<option value="plan_read">Plan to read</option>
										<option value="completed">Completed</option>
										<option value="paused">Paused</option>
										<option value="dropped">Dropped</option>
									</select>
								</label>
							</form>

							<form>
								<label for="select">
									<span class="text-sm">Sort by</span>
									<select id="sort-by-select-mobile"
											class="select appearance-none w-full border rounded-md">
										<option value="title">Title</option>
										<option value="score">Score</option>
										<option value="recent">Recently Added</option>
									</select>
								</label>
							</form>

							<form>
								<label for="select">
									<span class="text-sm">Sort direction</span>
									<select id="sort-direction-select-mobile"
											class="select appearance-none w-full border rounded-md">
										<option value="asc">Ascending</option>
										<option value="desc">Descending</option>
									</select>
								</label>
							</form>

							<div class="flex gap-3 mt-3">
								<button id="btn-apply-filter-mobile"
										class=" border px-3 py-2 rounded-md shadow-md text-sm font-bold" type="button">
									Apply filters
								</button>

								<button id="btn-reset-filter-mobile"
										class="border px-3 py-2 rounded-md shadow-md text-sm font-bold">
									Reset filters
								</button>
							</div>
						</div>
					</div>
					<form method="dialog" class="modal-backdrop">
						<button>close</button>
					</form>
				</dialog>
			</div>

			<!-- Filter Controls -->
			<div class="filter-controls p-4 rounded-md shadow-md border hidden md:flex flex-col gap-3">
				<header class="flex gap-1">
					<i class="ri-filter-line text-xl md:text-2xl"></i>
					<h2 class="font-bold text-xl md:text-2xl">Filters</h2>
				</header>

				<div class="filter-container grid grid-cols-1 md:grid-cols-4 gap-3">
					<form>
						<label for="select">
							<span class="text-sm">Type</span>
							<select id="type-select" class="select appearance-none w-full border rounded-md">
								<option disabled selected value="">Select types</option>
								<option value="anime">Anime</option>
								<option value="manga">Manga</option>
							</select>
						</label>
					</form>

					<form>
						<label for="select">
							<span class="text-sm">Status</span>
							<select id="status-select" class="select appearance-none w-full border rounded-md">
								<option disabled selected value="">Select status</option>
								<option value="watching">Watching</option>
								<option value="plan_watch">Plan to watch</option>
								<option value="reading">Reading</option>
								<option value="plan_read">Plan to read</option>
								<option value="completed">Completed</option>
								<option value="paused">Paused</option>
								<option value="dropped">Dropped</option>
							</select>
						</label>
					</form>

					<form>
						<label for="select">
							<span class="text-sm">Sort by</span>
							<select id="sort-by-select" class="select appearance-none w-full border rounded-md">
								<option value="title">Title</option>
								<option value="score">Score</option>
								<option value="recent">Recently Added</option>
							</select>
						</label>
					</form>

					<form>
						<label for="select">
							<span class="text-sm">Sort direction</span>
							<select id="sort-direction-select"
									class="select appearance-none w-full border rounded-md">
								<option value="asc">Ascending</option>
								<option value="desc">Descending</option>
							</select>
						</label>
					</form>
				</div>
				<div class="flex gap-3 mt-3 justify-end">
					<button id="btn-apply-filter"
							class="border px-3 py-2 rounded-md shadow-md text-sm font-bold">Apply
						filters</button>

					<button id="btn-reset-filter"
							class="border px-3 py-2 rounded-md shadow-md text-sm font-bold">
						Reset filters
					</button>
				</div>
			</div>
		</section>

		<section id="list-table">
			<header class="flex justify-between items-center mb-4">
				<p id="total-records-info" class="text-sm md:text-base">30 records</p>

				<select id="limit-select" class="select border rounded-md w-fit">
					<option disabled selected>Limit records</option>
					<option value="50">50</option>
					<option value="30">30</option>
					<option value="15">15</option>
					<option value="10">10</option>
				</select>
			</header>
			<div class="overflow-x-auto max-h-[480px] border rounded-md">
				<table class="table table-xs md:table-md table-pin-rows ">
					<thead>
						<tr class="shadow">
							<th></th>
							<td>Title</td>
							<td>Type</td>
							<td>Score</td>
							<td>Progress</td>
							<td>Status</td>
						</tr>
					</thead>
					<tbody>
						<tr>
							<th>
								<div class="w-8 md:w-4 flex items-center">
									<button class="btn-edit-list px-2 py-1 rounded-md">
										<i class="ri-pencil-line"></i>
									</button>
								</div>
							</th>

							<td>
								<div class="flex items-center gap-3">
									<div class="media-poster">
										<div class="w-16 aspect-2/3">
											<img class="object-cover rounded-md"
													src="https://cdn.myanimelist.net/images/anime/1015/138006.webp"
													alt="Media poster" />
										</div>
									</div>
									<div class="max-sm:w-32">
										<a class="title-link hover:underline font-bold" href="#">Sousou no Frieren</a>
									</div>
								</div>
							</td>

							<td>TV</td>

							<td>
								<div class="flex items-center gap-1">
									<i class="ri-star-fill"></i>
									9
								</div>
							</td>
							<td>
								<div class="flex flex-col gap-1">
									<p>1/28 eps</p>
									<progress class="progress max-w-28 rounded-full" value="1" max="28"></progress>
								</div>
							</td>
							<td>Plan to watch</td>
						</tr>
					</tbody>
				</table>
			</div>
		</section>
	</main>
</body>

</html>
